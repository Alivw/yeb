(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d5c8694"],{"0aaf":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 综合信息统计 ")])},l=[],n={name:"StaAll"},s=n,o=a("2877"),r=Object(o["a"])(s,i,l,!1,null,"a5ac7596",null);t["default"]=r.exports},1937:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 工资表查询 ")])},l=[],n={name:"SalSearch"},s=n,o=a("2877"),r=Object(o["a"])(s,i,l,!1,null,"73766703",null);t["default"]=r.exports},"1dde":function(e,t,a){var i=a("d039"),l=a("b622"),n=a("2d00"),s=l("species");e.exports=function(e){return n>=51||!i((function(){var t=[],a=t.constructor={};return a[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"1fe7":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 系统管理 ")])},l=[],n={name:"SysCfg"},s=n,o=a("2877"),r=Object(o["a"])(s,i,l,!1,null,"a6c81c2e",null);t["default"]=r.exports},"21c7":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 工资表处理 ")])},l=[],n={name:"SalTable"},s=n,o=a("2877"),r=Object(o["a"])(s,i,l,!1,null,"b8fad4a4",null);t["default"]=r.exports},2704:function(e,t,a){},"2bc5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.showAddSalaryView}},[e._v("添加工资账套")]),a("el-button",{attrs:{type:"success",icon:"el-icon-refresh"}})],1),a("div",{staticStyle:{"margin-top":"8px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",data:e.salaries,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),a("el-table-column",{attrs:{prop:"name",label:"账套名称",width:"120"}}),a("el-table-column",{attrs:{prop:"basicSalary",label:"基本工资",width:"80"}}),a("el-table-column",{attrs:{prop:"lunchSalary",label:"午餐补助",width:"80"}}),a("el-table-column",{attrs:{prop:"trafficSalary",label:"交通补助",width:"80"}}),a("el-table-column",{attrs:{prop:"bonus",label:"奖金",width:"80"}}),a("el-table-column",{attrs:{prop:"createDate",label:"启用时间",width:"100"}}),a("el-table-column",{attrs:{align:"center",label:"养老金"}},[a("el-table-column",{attrs:{prop:"pensionPer",label:"比率"}}),a("el-table-column",{attrs:{prop:"pensionBase",label:"基数"}})],1),a("el-table-column",{attrs:{align:"center",label:"公积金"}},[a("el-table-column",{attrs:{prop:"accumulationFundPer",label:"比率"}}),a("el-table-column",{attrs:{prop:"accumulationFundBase",label:"基数"}})],1),a("el-table-column",{attrs:{align:"center",label:"医疗保险"}},[a("el-table-column",{attrs:{prop:"medicalPer",label:"比率"}}),a("el-table-column",{attrs:{prop:"medicalBase",label:"基数"}})],1),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.showEditdialog(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger"},on:{click:function(a){return e.delSalary(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("el-dialog",{attrs:{title:e.diagTitle,visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticStyle:{display:"flex","justify-content":"space-around","align-items":"center"}},[a("el-steps",{attrs:{direction:"vertical",active:e.activeItemIndex}},e._l(e.salaryItemName,(function(e,t){return a("el-step",{key:t,attrs:{title:e}})})),1),e._l(e.salary,(function(t,i,l){return a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.activeItemIndex==l,expression:"activeItemIndex==index"}],key:l,staticStyle:{width:"200px"},attrs:{placeholder:"请输入"+e.salaryItemName[l]},model:{value:e.salary[i],callback:function(t){e.$set(e.salary,i,t)},expression:"salary[title]"}})}))],2),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.preStep}},[e._v(e._s(0==e.activeItemIndex||10==e.activeItemIndex?"取消":"上一步"))]),a("el-button",{attrs:{type:"primary"},on:{click:e.nextStep}},[e._v(e._s(10==e.activeItemIndex?"完成":"下一步"))])],1)])],1)},l=[],n=(a("b0c0"),{name:"SalSob",data:function(){return{loading:!0,diagTitle:"添加工资账套",activeItemIndex:0,salaryItemName:["账套名称","基本工资","交通补助","午餐补助","奖金","养老金比率","养老金基数","医疗保险比率","医疗保险基数","公积金比率","公积金基数"],dialogVisible:!1,salaries:[],salary:{name:"",basicSalary:0,trafficSalary:0,lunchSalary:0,bonus:0,pensionPer:0,pensionBase:0,medicalPer:0,medicalBase:0,accumulationFundPer:0,accumulationFundBase:0}}},mounted:function(){this.initSalaries()},methods:{showEditdialog:function(e){this.diagTitle="编辑工资账套",this.activeItemIndex=0,this.salary.id=e.id,this.salary.name=e.name,this.salary.basicSalary=e.basicSalary,this.salary.trafficSalary=e.trafficSalary,this.salary.lunchSalary=e.lunchSalary,this.salary.bonus=e.bonus,this.salary.pensionPer=e.pensionPer,this.salary.pensionBase=e.pensionBase,this.salary.medicalPer=e.medicalPer,this.salary.medicalBase=e.medicalBase,this.salary.accumulationFundPer=e.accumulationFundPer,this.salary.accumulationFundPer=e.accumulationFundPer,this.dialogVisible=!0},delSalary:function(e){var t=this;this.$confirm("此操作将永久删除["+e.name+"]工资账套, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/salary/sob/"+e.id).then((function(e){e&&t.initSalaries()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},preStep:function(){if(0!=this.activeItemIndex)return 10==this.activeItemIndex?(this.activeItemIndex=0,void(this.dialogVisible=!1)):void this.activeItemIndex--;this.dialogVisible=!1},nextStep:function(){var e=this;10!=this.activeItemIndex?this.activeItemIndex++:this.salary.id?this.putRequest("/salary/sob/",this.salary).then((function(t){t&&(e.dialogVisible=!1,e.activeItemIndex=0,e.initSalaries())})):this.postRequest("/salary/sob/",this.salary).then((function(t){t&&(e.dialogVisible=!1,e.initSalaries())}))},showAddSalaryView:function(){this.activeItemIndex=0,this.salary={name:"",basicSalary:0,trafficSalary:0,lunchSalary:0,bonus:0,pensionPer:0,pensionBase:0,medicalPer:0,medicalBase:0,accumulationFundPer:0,accumulationFundBase:0},this.dialogVisible=!0},initSalaries:function(){var e=this;this.getRequest("/salary/sob/").then((function(t){t&&(e.salaries=t,e.loading=!1)}))}}}),s=n,o=a("2877"),r=Object(o["a"])(s,i,l,!1,null,"1a056768",null);t["default"]=r.exports},"2cd2":function(e,t,a){},"32c3":function(e,t,a){"use strict";a("ad48")},"4de4":function(e,t,a){"use strict";var i=a("23e7"),l=a("b727").filter,n=a("1dde"),s=n("filter");i({target:"Array",proto:!0,forced:!s},{filter:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}})},5865:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 员工资料 ")])},l=[],n={name:"PerEmp"},s=n,o=a("2877"),r=Object(o["a"])(s,i,l,!1,null,"76624f98",null);t["default"]=r.exports},"58da":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",[a("el-input",{staticStyle:{width:"300px","margin-right":"8px"},attrs:{size:"mini",placeholder:"请输入员工名进行搜索...","prefix-icon":"el-icon-search",clearable:""},on:{clear:e.initEmps},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initEmps(t)}},model:{value:e.empName,callback:function(t){e.empName=t},expression:"empName"}}),a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-search"},on:{click:e.initEmps}},[e._v("搜索")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showAdvanceSearchView=!e.showAdvanceSearchView}}},[a("i",{class:e.showAdvanceSearchView?"fa fa-angle-double-up":"fa fa-angle-double-down",attrs:{"aria-hidden":"true"}}),e._v(" 高级搜索 ")])],1),a("div",[a("el-upload",{staticStyle:{display:"inline-flex","margin-right":"8px"},attrs:{action:"/employee/basic/import","show-file-list":!1,headers:e.headers,"before-upload":e.beforeUpload,disabled:e.importDataDisabled,"on-success":e.onSuccess,"on-error":e.onError}},[a("el-button",{attrs:{size:"mini",icon:e.importDataBtnicon,type:"success"}},[e._v(" "+e._s(e.importDataBtnText)+" ")])],1),a("el-button",{attrs:{icon:"el-icon-download",size:"mini",type:"success"},on:{click:e.exportData}},[e._v(" 导出数据 ")]),a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:e.showAddEmpView}},[e._v("添加员工")])],1)]),a("transition",{attrs:{name:"slide-fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showAdvanceSearchView,expression:"showAdvanceSearchView"}],staticStyle:{border:"1px solid #409eff","border-radius":"5px","box-sizing":"border-box",padding:"5px",margin:"10px 0px"}},[a("el-row",[a("el-col",{attrs:{span:5}},[e._v(" 政治面貌: "),a("el-select",{staticStyle:{width:"130px"},attrs:{placeholder:"政治面貌",size:"mini"},model:{value:e.searchValue.politicId,callback:function(t){e.$set(e.searchValue,"politicId",t)},expression:"searchValue.politicId"}},e._l(e.politicsstatus,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-col",{attrs:{span:4}},[e._v(" 民族: "),a("el-select",{staticStyle:{width:"130px"},attrs:{placeholder:"民族",size:"mini"},model:{value:e.searchValue.nationId,callback:function(t){e.$set(e.searchValue,"nationId",t)},expression:"searchValue.nationId"}},e._l(e.nations,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-col",{attrs:{span:4}},[e._v(" 职位: "),a("el-select",{staticStyle:{width:"130px"},attrs:{placeholder:"职位",size:"mini"},model:{value:e.searchValue.posId,callback:function(t){e.$set(e.searchValue,"posId",t)},expression:"searchValue.posId"}},e._l(e.positions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-col",{attrs:{span:4}},[e._v(" 职称: "),a("el-select",{staticStyle:{width:"130px"},attrs:{placeholder:"职称",size:"mini"},model:{value:e.searchValue.jobLevelId,callback:function(t){e.$set(e.searchValue,"jobLevelId",t)},expression:"searchValue.jobLevelId"}},e._l(e.joblevels,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-col",{attrs:{span:7}},[e._v(" 聘用形式: "),a("el-radio-group",{model:{value:e.searchValue.engageForm,callback:function(t){e.$set(e.searchValue,"engageForm",t)},expression:"searchValue.engageForm"}},[a("el-radio",{attrs:{label:"劳动合同"}},[e._v("劳动合同")]),a("el-radio",{attrs:{label:"劳务合同"}},[e._v("劳务合同")])],1)],1)],1),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:5}},[e._v(" 所属部门: "),a("el-popover",{attrs:{placement:"right",title:"请选择部门",width:"200",trigger:"manual"},model:{value:e.popVisible2,callback:function(t){e.popVisible2=t},expression:"popVisible2"}},[a("el-tree",{attrs:{"default-expand-all":"",data:e.allDeps,props:e.defaultProps},on:{"node-click":e.searvhViewHandleNodeClick}}),a("div",{staticStyle:{width:"130px",display:"inline-flex","font-size":"13px",border:"1px solid #dedede",height:"26px","border-radius":"5px",cursor:"pointer","align-items":"center","padding-left":"8px","box-sizing":"border-box","margin-left":"3px"},attrs:{slot:"reference"},on:{click:e.showDepView2},slot:"reference"},[e._v(e._s(e.inputDepName)+" ")])],1)],1),a("el-col",{attrs:{span:10}},[e._v(" 入职日期: "),a("el-date-picker",{attrs:{type:"daterange",size:"mini","unlink-panels":"","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.searchValue.beginDateScope,callback:function(t){e.$set(e.searchValue,"beginDateScope",t)},expression:"searchValue.beginDateScope"}})],1),a("el-col",{attrs:{span:5,offset:4}},[a("el-button",{attrs:{size:"mini"}},[e._v("取消")]),a("el-button",{attrs:{size:"mini",icon:"el-icon-search",type:"primary"},on:{click:function(t){return e.initEmps("advanced")}}},[e._v("搜索")])],1)],1)],1)]),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",size:"mini",data:e.emps,stripe:"",border:""}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",fixed:"",width:"60"}}),a("el-table-column",{attrs:{prop:"workID",label:"工号",width:"70"}}),a("el-table-column",{attrs:{prop:"gender",width:"50",label:"性别"}}),a("el-table-column",{attrs:{prop:"birthday",width:"85",align:"left",label:"出生日期"}}),a("el-table-column",{attrs:{prop:"idCard",width:"130",align:"left",label:"身份证号"}}),a("el-table-column",{attrs:{prop:"wedlock",width:"75",label:"婚姻状况"}}),a("el-table-column",{attrs:{prop:"nation.name",width:"50",align:"left",label:"民族"}}),a("el-table-column",{attrs:{prop:"nativePlace",width:"90",label:"籍贯"}}),a("el-table-column",{attrs:{prop:"politicsStatus.name",width:"120",align:"left",label:"政治面貌"}}),a("el-table-column",{attrs:{prop:"email",width:"160",align:"left",label:"电子邮件"}}),a("el-table-column",{attrs:{prop:"phone",width:"90",align:"left",label:"电话号码"}}),a("el-table-column",{attrs:{prop:"address",width:"280",align:"left",label:"联系地址"}}),a("el-table-column",{attrs:{prop:"department.name",width:"100",align:"left",label:"所属部门"}}),a("el-table-column",{attrs:{prop:"joblevel.name",width:"100",align:"left",label:"职称"}}),a("el-table-column",{attrs:{prop:"position.name",width:"100",align:"left",label:"职位"}}),a("el-table-column",{attrs:{prop:"engageForm",width:"100",align:"left",label:"聘用形式"}}),a("el-table-column",{attrs:{prop:"tiptopDegree",width:"80",align:"left",label:"最高学历"}}),a("el-table-column",{attrs:{prop:"school",width:"140",align:"left",label:"毕业院校"}}),a("el-table-column",{attrs:{prop:"specialty",width:"140",align:"left",label:"专业"}}),a("el-table-column",{attrs:{prop:"workState",width:"80",align:"left",label:"在职状态"}}),a("el-table-column",{attrs:{prop:"beginDate",width:"95",align:"left",label:"入职日期"}}),a("el-table-column",{attrs:{prop:"conversionTime",width:"95",align:"left",label:"转正日期"}}),a("el-table-column",{attrs:{prop:"beginContract",width:"100",align:"left",label:"合同起始日期"}}),a("el-table-column",{attrs:{prop:"endContract",width:"100",align:"left",label:"合同截至日期"}}),a("el-table-column",{attrs:{width:"100",align:"left",label:"合同期限"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",[e._v(e._s(t.row.contractTerm))]),e._v(" 年 ")]}}])}),a("el-table-column",{attrs:{fixed:"right",width:"200",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini"},on:{click:function(a){return e.showEditEmpView(t.row)}}},[e._v("编辑")]),a("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini",type:"primary"}},[e._v("查看高级资料")]),a("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deleteEmp(t.row)}}},[e._v("删除 ")])]}}])})],1),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-pagination",{attrs:{background:"","page-size":e.size,layout:"sizes,prev, pager, next, jumper, ->, total",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,width:"80%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",[a("el-form",{ref:"empForm",attrs:{model:e.emp,rules:e.rules}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"姓名:",prop:"name"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入员工姓名"},model:{value:e.emp.name,callback:function(t){e.$set(e.emp,"name",t)},expression:"emp.name"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"性别:",prop:"gender"}},[a("el-radio-group",{staticStyle:{"margin-top":"8px"},model:{value:e.emp.gender,callback:function(t){e.$set(e.emp,"gender",t)},expression:"emp.gender"}},[a("el-radio",{attrs:{label:"男"}},[e._v("男")]),a("el-radio",{attrs:{label:"女"}},[e._v("女")])],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"出生日期:",prop:"birthday"}},[a("el-date-picker",{staticStyle:{width:"150px"},attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd",placeholder:"出生日期"},model:{value:e.emp.birthday,callback:function(t){e.$set(e.emp,"birthday",t)},expression:"emp.birthday"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"政治面貌:",prop:"politicId"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"政治面貌",size:"mini"},model:{value:e.emp.politicId,callback:function(t){e.$set(e.emp,"politicId",t)},expression:"emp.politicId"}},e._l(e.politicsstatus,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"民族:",prop:"nationId"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"民族",size:"mini"},model:{value:e.emp.nationId,callback:function(t){e.$set(e.emp,"nationId",t)},expression:"emp.nationId"}},e._l(e.nations,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"籍贯:",prop:"nativePlace"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入籍贯"},model:{value:e.emp.nativePlace,callback:function(t){e.$set(e.emp,"nativePlace",t)},expression:"emp.nativePlace"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"电子邮箱:",prop:"email"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-message",placeholder:"请输入电子邮箱"},model:{value:e.emp.email,callback:function(t){e.$set(e.emp,"email",t)},expression:"emp.email"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"联系地址:",prop:"address"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入联系地址"},model:{value:e.emp.address,callback:function(t){e.$set(e.emp,"address",t)},expression:"emp.address"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"职位:",prop:"posId"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"职位",size:"mini"},model:{value:e.emp.posId,callback:function(t){e.$set(e.emp,"posId",t)},expression:"emp.posId"}},e._l(e.positions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"职称:",prop:"jobLevelId"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"职称",size:"mini"},model:{value:e.emp.jobLevelId,callback:function(t){e.$set(e.emp,"jobLevelId",t)},expression:"emp.jobLevelId"}},e._l(e.joblevels,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"所属部门:",prop:"departmentId"}},[a("el-popover",{attrs:{placement:"right",title:"请选择部门",width:"200",trigger:"manual"},model:{value:e.popVisible,callback:function(t){e.popVisible=t},expression:"popVisible"}},[a("el-tree",{attrs:{"default-expand-all":"",data:e.allDeps,props:e.defaultProps,"expand-on-click-node":!1},on:{"node-click":e.handleNodeClick}}),a("div",{staticStyle:{width:"150px",display:"inline-flex","font-size":"13px",border:"1px solid #dedede",height:"26px","border-radius":"5px",cursor:"pointer","align-items":"center","padding-left":"8px","box-sizing":"border-box"},attrs:{slot:"reference"},on:{click:e.showDepView},slot:"reference"},[e._v(e._s(e.inputDepName)+" ")])],1)],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"电话号码:",prop:"phone"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini","prefix-icon":"el-icon-phone",placeholder:"电话号码"},model:{value:e.emp.phone,callback:function(t){e.$set(e.emp,"phone",t)},expression:"emp.phone"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"工号:",prop:"workID"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"工号",disabled:""},model:{value:e.emp.workID,callback:function(t){e.$set(e.emp,"workID",t)},expression:"emp.workID"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"学历:",prop:"tiptopDegree"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"学历",size:"mini"},model:{value:e.emp.tiptopDegree,callback:function(t){e.$set(e.emp,"tiptopDegree",t)},expression:"emp.tiptopDegree"}},e._l(e.tiptopDegrees,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"毕业院校:",prop:"school"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"毕业院校名称"},model:{value:e.emp.school,callback:function(t){e.$set(e.emp,"school",t)},expression:"emp.school"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"专业名称:",prop:"specialty"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入专业名称"},model:{value:e.emp.specialty,callback:function(t){e.$set(e.emp,"specialty",t)},expression:"emp.specialty"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"入职日期:",prop:"beginDate"}},[a("el-date-picker",{staticStyle:{width:"130px"},attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd",placeholder:"入职日期"},model:{value:e.emp.beginDate,callback:function(t){e.$set(e.emp,"beginDate",t)},expression:"emp.beginDate"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"转正日期:",prop:"conversionTime"}},[a("el-date-picker",{staticStyle:{width:"130px"},attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd",placeholder:"转正日期"},model:{value:e.emp.conversionTime,callback:function(t){e.$set(e.emp,"conversionTime",t)},expression:"emp.conversionTime"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"合同起始日期:",prop:"beginContract"}},[a("el-date-picker",{staticStyle:{width:"130px"},attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd",placeholder:"合同起始日期"},model:{value:e.emp.beginContract,callback:function(t){e.$set(e.emp,"beginContract",t)},expression:"emp.beginContract"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"合同终止日期:",prop:"endContract"}},[a("el-date-picker",{staticStyle:{width:"150px"},attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd",placeholder:"合同终止日期"},model:{value:e.emp.endContract,callback:function(t){e.$set(e.emp,"endContract",t)},expression:"emp.endContract"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"身份证号码:",prop:"idCard"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入身份证号码"},model:{value:e.emp.idCard,callback:function(t){e.$set(e.emp,"idCard",t)},expression:"emp.idCard"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"聘用形式:",prop:"engageForm"}},[a("el-radio-group",{staticStyle:{"margin-top":"8px"},model:{value:e.emp.engageForm,callback:function(t){e.$set(e.emp,"engageForm",t)},expression:"emp.engageForm"}},[a("el-radio",{attrs:{label:"劳动合同"}},[e._v("劳动合同")]),a("el-radio",{attrs:{label:"劳务合同"}},[e._v("劳务合同")])],1)],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"婚姻状况:",prop:"wedlock"}},[a("el-radio-group",{staticStyle:{"margin-top":"8px"},model:{value:e.emp.wedlock,callback:function(t){e.$set(e.emp,"wedlock",t)},expression:"emp.wedlock"}},[a("el-radio",{attrs:{label:"已婚"}},[e._v("已婚")]),a("el-radio",{attrs:{label:"未婚"}},[e._v("未婚")]),a("el-radio",{attrs:{label:"离异"}},[e._v("离异")])],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"在职状态:",prop:"workState"}},[a("el-radio-group",{staticStyle:{"margin-top":"8px"},model:{value:e.emp.workState,callback:function(t){e.$set(e.emp,"workState",t)},expression:"emp.workState"}},[a("el-radio",{attrs:{label:"在职"}},[e._v("在职")]),a("el-radio",{attrs:{label:"离职"}},[e._v("离职")])],1)],1)],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.doAddEmp}},[e._v("确 定")])],1)])],1)},l=[],n=(a("b0c0"),{name:"EmpBasic",data:function(){return{title:"",popVisible2:!1,showAdvanceSearchView:!1,searchValue:{politicId:null,nationId:null,jobLevelId:null,posId:null,engageForm:null,departmentId:null,beginDateScope:null},allDeps:[],nations:[],joblevels:[],politicsstatus:[],positions:[],tiptopDegrees:["本科","大专","硕士","博士","高中","初中","小学","其他"],options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],inputDepName:"所属部门",emp:{name:"",gender:"",birthday:"",idCard:"",wedlock:"",nationId:null,nativePlace:"",politicId:null,email:"",phone:"",address:"",departmentId:null,jobLevelId:null,posId:null,engageForm:"",tiptopDegree:"",specialty:"",school:"",beginDate:null,workState:"",workID:"",contractTerm:null,conversionTime:"",notWorkDate:"",beginContract:"",endContract:"",workAge:null,salaryId:null,salary:null},popVisible:!1,dialogVisible:!1,headers:{Authorization:window.sessionStorage.getItem("tokenStr")},importDataDisabled:!1,importDataBtnText:"导入数据",importDataBtnicon:"el-icon-upload2",emps:[],loading:!1,total:0,currentPage:1,size:10,empName:"",defaultProps:{children:"children",label:"name"},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],gender:[{required:!0,message:"请输入性别",trigger:"blur"}],birthday:[{required:!0,message:"请输入出生日期",trigger:"blur"}],idCard:[{required:!0,message:"请输入身份证号码",trigger:"blur"},{pattern:/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$)/,message:"身份证号码格式不正确",trigger:"blur"}],wedlock:[{required:!0,message:"请输入婚姻状况",trigger:"blur"}],nationId:[{required:!0,message:"请输入您组",trigger:"blur"}],nativePlace:[{required:!0,message:"请输入籍贯",trigger:"blur"}],politicId:[{required:!0,message:"请输入政治面貌",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],phone:[{required:!0,message:"请输入电话号码",trigger:"blur"}],address:[{required:!0,message:"请输入员工地址",trigger:"blur"}],departmentId:[{required:!0,message:"请输入部门名称",trigger:"blur"}],jobLevelId:[{required:!0,message:"请输入职称",trigger:"blur"}],posId:[{required:!0,message:"请输入职位",trigger:"blur"}],engageForm:[{required:!0,message:"请输入聘用形式",trigger:"blur"}],tiptopDegree:[{required:!0,message:"请输入学历",trigger:"blur"}],specialty:[{required:!0,message:"请输入专业",trigger:"blur"}],school:[{required:!0,message:"请输入毕业院校",trigger:"blur"}],beginDate:[{required:!0,message:"请输入入职日期",trigger:"blur"}],workState:[{required:!0,message:"请输入工作状态",trigger:"blur"}],workID:[{required:!0,message:"请输入工号",trigger:"blur"}],contractTerm:[{required:!0,message:"请输入合同期限",trigger:"blur"}],conversionTime:[{required:!0,message:"请输入转正日期",trigger:"blur"}],notworkDate:[{required:!0,message:"请输入离职日期",trigger:"blur"}],beginContract:[{required:!0,message:"请输入合同起始日期",trigger:"blur"}],endContract:[{required:!0,message:"请输入合同结束日期",trigger:"blur"}],workAge:[{required:!0,message:"请输入工龄",trigger:"blur"}]}}},mounted:function(){this.initEmps(),this.initData()},methods:{deleteEmp:function(e){var t=this;this.$confirm("此操作将永久删除【"+e.name+"】, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/employee/basic/"+e.id).then((function(e){e&&t.initEmps()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},showEditEmpView:function(e){this.initPositions(),this.title="编辑员工信息",this.emp=e,this.inputDepName=e.department.name,this.dialogVisible=!0},showDepView2:function(){this.popVisible2=!this.popVisible2},searvhViewHandleNodeClick:function(e){this.inputDepName=e.name,this.searchValue.departmentId=e.id,this.popVisible2=!this.popVisible2},showAddEmpView:function(){this.title="添加员工信息",this.emp={id:null,name:"",gender:"",birthday:"",idCard:"",wedlock:"",nationId:null,nativePlace:"",politicId:null,email:"",phone:"",address:"",departmentId:null,jobLevelId:null,posId:null,engageForm:"",tiptopDegree:"",specialty:"",school:"",beginDate:null,workState:"",workID:"",contractTerm:null,conversionTime:"",notWorkDate:"",beginContract:"",endContract:"",workAge:null,salaryId:null,salary:null},this.inputDepName="",this.getMaxWordID(),this.dialogVisible=!0},initPositions:function(){var e=this;this.getRequest("/employee/basic/positions").then((function(t){t&&(e.positions=t)}))},getMaxWordID:function(){var e=this;this.getRequest("/employee/basic/maxworkid").then((function(t){t&&(e.emp.workID=t.obj)}))},initData:function(){var e=this;window.sessionStorage.getItem("nations")?this.nations=JSON.parse(window.sessionStorage.getItem("nations")):this.getRequest("/employee/basic/nations").then((function(t){t&&(e.nations=t,window.sessionStorage.setItem("nations",JSON.stringify(t)))})),window.sessionStorage.getItem("joblevels")?this.joblevels=JSON.parse(window.sessionStorage.getItem("joblevels")):this.getRequest("/employee/basic/joblevels").then((function(t){t&&(e.joblevels=t,window.sessionStorage.setItem("joblevels",JSON.stringify(t)))})),window.sessionStorage.getItem("politicsstatus")?this.politicsstatus=JSON.parse(window.sessionStorage.getItem("politicsstatus")):this.getRequest("/employee/basic/politicsstatus").then((function(t){t&&(e.politicsstatus=t,window.sessionStorage.setItem("politicsstatus",JSON.stringify(t)))})),window.sessionStorage.getItem("deps")?this.allDeps=JSON.parse(window.sessionStorage.getItem("deps")):this.getRequest("/employee/basic/deps").then((function(t){t&&(e.allDeps=t,window.sessionStorage.setItem("deps",JSON.stringify(t)))})),window.sessionStorage.getItem("positions")?this.positions=JSON.parse(window.sessionStorage.getItem("positions")):this.getRequest("/employee/basic/positions").then((function(t){t&&(e.positions=t,window.sessionStorage.setItem("positions",JSON.stringify(t)))}))},showDepView:function(){this.popVisible=!this.popVisible},doAddEmp:function(){var e=this;this.emp.id?this.$refs["empForm"].validate((function(t){t&&e.putRequest("/employee/basic/",e.emp).then((function(t){t&&(e.dialogVisible=!1,e.initEmps())}))})):this.$refs["empForm"].validate((function(t){t&&e.postRequest("/employee/basic/",e.emp).then((function(t){t&&(e.dialogVisible=!1,e.initEmps())}))}))},handleNodeClick:function(e){this.inputDepName=e.name,this.emp.departmentId=e.id,this.popVisible=!this.popVisible},onSuccess:function(){this.importDataBtnicon="el-icon-upload2",this.importDataBtnText="导入数据",this.importDataDisabled=!1,this.initEmps()},onError:function(){this.importDataBtnicon="el-icon-upload2",this.importDataBtnText="导入数据",this.importDataDisabled=!1},beforeUpload:function(){this.importDataBtnicon="el-icon-loading",this.importDataBtnText="正在导入",this.importDataDisabled=!0},exportData:function(){this.downloadRequest("/employee/basic/export")},sizeChange:function(e){this.size=e,this.initEmps()},currentChange:function(e){this.currentPage=e,this.initEmps()},initEmps:function(e){var t=this;this.loading=!0;var a="/employee/basic/?currentPage="+this.currentPage+"&size="+this.size;e&&"advanced"==e?(this.searchValue.politicId&&(a+="&politicId="+this.searchValue.politicId),this.searchValue.nationId&&(a+="&nationId="+this.searchValue.nationId),this.searchValue.jobLevelId&&(a+="&jobLevelId="+this.searchValue.jobLevelId),this.searchValue.posId&&(a+="&posId="+this.searchValue.posId),this.searchValue.engageForm&&(a+="&engageForm="+this.searchValue.engageForm),this.searchValue.departmentId&&(a+="&departmentId="+this.searchValue.departmentId),this.searchValue.beginDateScope&&(a+="&beginDateScope="+this.searchValue.beginDateScope)):a+="&name="+this.empName,this.getRequest(a).then((function(e){t.loading=!1,e&&(t.emps=e.data,t.total=e.total)}))}}}),s=n,o=a("2877"),r=Object(o["a"])(s,i,l,!1,null,"5db4e788",null);t["default"]=r.exports},"5a4a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 员工薪资 ")])},l=[],n={name:"PerSalary"},s=n,o=a("2877"),r=Object(o["a"])(s,i,l,!1,null,"bcc5ebaa",null);t["default"]=r.exports},"6ac98":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.emps,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",align:"left",fixed:"",width:"120"}}),a("el-table-column",{attrs:{prop:"workID",label:"工号",width:"120",align:"left"}}),a("el-table-column",{attrs:{prop:"email",label:"电子邮箱",width:"200",align:"left"}}),a("el-table-column",{attrs:{prop:"phone",label:"电话号码",width:"150",align:"left"}}),a("el-table-column",{attrs:{prop:"department.name",label:"所属部门",width:"120",align:"left"}}),a("el-table-column",{attrs:{label:"工资账套",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.salary?a("el-tooltip",{attrs:{placement:"right"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("table",[a("tr",[a("td",[e._v(" 基本工资 ")]),a("td",[e._v(" "+e._s(t.row.salary.basicSalary)+" ")])]),a("tr",[a("td",[e._v(" 交通补助 ")]),a("td",[e._v(" "+e._s(t.row.salary.trafficSalary)+" ")])]),a("tr",[a("td",[e._v(" 午餐补助 ")]),a("td",[e._v(" "+e._s(t.row.salary.lunchSalary)+" ")])]),a("tr",[a("td",[e._v(" 奖金 ")]),a("td",[e._v(" "+e._s(t.row.salary.bonus)+" ")])]),a("tr",[a("td",[e._v(" 养老金比率 ")]),a("td",[e._v(" "+e._s(t.row.salary.pensionPer)+" ")])]),a("tr",[a("td",[e._v(" 养老金基数 ")]),a("td",[e._v(" "+e._s(t.row.salary.pensionBase)+" ")])]),a("tr",[a("td",[e._v(" 医疗保险比率 ")]),a("td",[e._v(" "+e._s(t.row.salary.medicalPer)+" ")])]),a("tr",[a("td",[e._v(" 医疗保险基数 ")]),a("td",[e._v(" "+e._s(t.row.salary.medicalBase)+" ")])]),a("tr",[a("td",[e._v(" 公积金比率 ")]),a("td",[e._v(" "+e._s(t.row.salary.accumulationFundPer)+" ")])]),a("tr",[a("td",[e._v(" 公积金基数 ")]),a("td",[e._v(" "+e._s(t.row.salary.accumulationFundBase)+" ")])])])]),a("el-tag",{attrs:{type:"success"}},[e._v(e._s(t.row.salary.name))])],1):a("el-tag",{attrs:{type:"success"}},[e._v("暂未设置")])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"left",title:"编辑工资账套",width:"200",trigger:"click"},on:{show:function(a){return e.showPop(t.row.salary)},hide:function(a){return e.hidePop(t.row)}}},[a("div",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.currentSalary,callback:function(t){e.currentSalary=t},expression:"currentSalary"}},e._l(e.salaries,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-button",{attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("修改工资账套")])],1)]}}])})],1),a("div",{staticClass:"block"},[a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-pagination",{attrs:{background:"","page-size":e.size,layout:"sizes,prev, pager, next, jumper, ->, total",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)])],1)},l=[],n={name:"SalSobCfg",data:function(){return{emps:[],currentPage:1,size:10,total:0,salaries:[],currentSalary:null}},mounted:function(){this.initEmps(),this.initSalaries()},methods:{hidePop:function(e){var t=this;this.currentSalary!=e.salaryId&&this.putRequest("/salary/sobcfg/?eid="+e.id+"&sid="+this.currentSalary).then((function(e){e&&t.initEmps()}))},handleSizeChange:function(e){this.size=e,this.initEmps()},handleCurrentChange:function(e){this.currentPage=e,this.initEmps()},showPop:function(e){this.currentSalary=e?e.id:null},initSalaries:function(){var e=this;this.getRequest("/salary/sobcfg/salaries").then((function(t){t&&(e.salaries=t)}))},initEmps:function(){var e=this;this.getRequest("/salary/sobcfg/?currentPage="+this.currentPage+"&size="+this.size).then((function(t){t&&(e.total=t.total,e.emps=t.data)}))}}},s=n,o=a("2877"),r=Object(o["a"])(s,i,l,!1,null,"add700b0",null);t["default"]=r.exports},7055:function(e,t,a){"use strict";a("d158")},"710b":function(e,t,a){"use strict";a("2cd2")},7705:function(e,t,a){"use strict";a("2704")},7760:function(e,t,a){},"83ed":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 员工培训 ")])},l=[],n={name:"PerTrain"},s=n,o=a("2877"),r=Object(o["a"])(s,i,l,!1,null,"32375339",null);t["default"]=r.exports},8418:function(e,t,a){"use strict";var i=a("c04e"),l=a("9bf2"),n=a("5c6c");e.exports=function(e,t,a){var s=i(t);s in e?l.f(e,s,n(0,a)):e[s]=a}},8608:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 初始化数据库 ")])},l=[],n={name:"SysInit"},s=n,o=a("2877"),r=Object(o["a"])(s,i,l,!1,null,"51358e41",null);t["default"]=r.exports},"864e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 操作日志管理 ")])},l=[],n={name:"SysLog"},s=n,o=a("2877"),r=Object(o["a"])(s,i,l,!1,null,"27745e0c",null);t["default"]=r.exports},8759:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 高级资料 ")])},l=[],n={name:"EmpAdv"},s=n,o=a("2877"),r=Object(o["a"])(s,i,l,!1,null,"6e0ac741",null);t["default"]=r.exports},"8d67":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"部门管理",name:"DepMana"}},[a("dep-mana")],1),a("el-tab-pane",{attrs:{label:"职位管理",name:"PosMana"}},[a("pos-mana")],1),a("el-tab-pane",{attrs:{label:"职称管理",name:"JoblevelMana"}},[a("joblevel-mana")],1),a("el-tab-pane",{attrs:{label:"奖惩规则",name:"EcMana"}},[a("ec-mana")],1),a("el-tab-pane",{attrs:{label:"权限组",name:"PermissMana"}},[a("permiss-mana")],1)],1)],1)},l=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"500px"}},[a("el-input",{attrs:{placeholder:"请输入部门名称进行搜索...","prefix-icon":"el-icon-search"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),a("el-tree",{ref:"tree",attrs:{data:e.deps,props:e.defaultProps,"filter-node-method":e.filterNode,"expand-on-click-node":!1},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var i=t.data;return a("span",{staticClass:"custom-tree-node",staticStyle:{display:"flex","justify-content":"space-between",width:"100%"}},[a("span",[e._v(e._s(i.name))]),a("span",[a("el-button",{staticClass:"depBtn",attrs:{type:"primary",size:"mini"},on:{click:function(){return e.showAddDep(i)}}},[e._v(" 添加部门 ")]),a("el-button",{staticClass:"depBtn",attrs:{type:"danger",size:"mini"},on:{click:function(){return e.deleteDep(i)}}},[e._v(" 删除部门 ")])],1)])}}])}),a("el-dialog",{attrs:{title:"添加部门",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",[a("table",[a("tr",[a("td",[a("el-tag",[e._v("上级部门")])],1),a("td",[e._v(" "+e._s(e.pname)+" ")])]),a("tr",[a("td",[a("el-tag",[e._v("部门名称")])],1),a("td",[a("el-input",{attrs:{placeholder:"请输入部门名称..."},model:{value:e.dep.name,callback:function(t){e.$set(e.dep,"name",t)},expression:"dep.name"}})],1)])])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.doAddDep}},[e._v("确 定")])],1)])],1)},s=[],o=(a("4de4"),a("99af"),a("b0c0"),a("a434"),{watch:{filterText:function(e){this.$refs.tree.filter(e)}},name:"DepMana",data:function(){return{pname:"",dep:{name:"",parentId:-1},dialogVisible:!1,filterText:"",deps:[],defaultProps:{children:"children",label:"name"}}},mounted:function(){this.initDeps()},methods:{initDep:function(){this.dep={name:"",parentId:-1},this.pname=""},addDep2Dep2:function(e,t){for(var a=0;a<e.length;a++){var i=e[a];if(i.id==t.parentId)return null==i.children&&(i.children=[]),i.isParent=!0,void(i.children=i.children.concat(t));null!=i.children&&this.addDep2Dep2(i.children,t)}},doAddDep:function(){var e=this;this.dep.name&&this.postRequest("/system/basic/department/",this.dep).then((function(t){t&&(e.addDep2Dep2(e.deps,t.obj),e.dialogVisible=!1,e.initDep())}))},showAddDep:function(e){this.pname=e.name,this.dep.parentId=e.id,this.dialogVisible=!0},deleteDep:function(e){var t=this;e.isParent?this.$message.error("父部门删除失败！"):this.$confirm("此操作将永久删除["+e.name+"]部门, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest(" /system/basic/department/"+e.id).then((function(a){a&&t.removeDepFromDeps(null,t.deps,e.id)}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},removeDepFromDeps:function(e,t,a){for(var i=0;i<t.length;i++){var l=t[i];if(l.id==a)return t.splice(i,1),void(0==t.length&&(e.isParent=!1));null!=l.children&&this.removeDepFromDeps(l,l.children,a)}},initDeps:function(){var e=this;this.getRequest("/system/basic/department/").then((function(t){t&&(e.deps=t)}))},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)}}}),r=o,c=(a("32c3"),a("2877")),d=Object(c["a"])(r,n,s,!1,null,"631a75bf",null),u=d.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 奖惩规则 ")])},m=[],h={name:"EcMana"},f=h,b=Object(c["a"])(f,p,m,!1,null,"5a1ba058",null),v=b.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-input",{staticStyle:{width:"300px"},attrs:{size:"small",placeholder:"添加职称等级...","prefix-icon":"el-icon-plus"},model:{value:e.jl.name,callback:function(t){e.$set(e.jl,"name",t)},expression:"jl.name"}}),a("el-select",{staticStyle:{"margin-left":"8px"},attrs:{placeholder:"职称等级",size:"small"},model:{value:e.jl.titleLevel,callback:function(t){e.$set(e.jl,"titleLevel",t)},expression:"jl.titleLevel"}},e._l(e.titleLevels,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1),a("el-button",{staticStyle:{"margin-left":"8px"},attrs:{size:"small",icon:"el-icon-plus",type:"primary"},on:{click:e.addJobLevel}},[e._v("添加")])],1),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{staticStyle:{width:"920px"},attrs:{data:e.jls,stripe:"",border:"",size:"small"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",label:"编号",width:"120"}}),a("el-table-column",{attrs:{prop:"name",label:"职称名称",width:"150"}}),a("el-table-column",{attrs:{prop:"titleLevel",label:"职称等级",width:"150"}}),a("el-table-column",{attrs:{prop:"createDate",label:"创建日期",width:"150"}}),a("el-table-column",{attrs:{prop:"enabled",label:"是否可用",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.enabled?a("el-tag",{attrs:{type:"success"}},[e._v("已启用")]):a("el-tag",{attrs:{type:"danger"}},[e._v("未启用")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){return e.showEditDialog(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return e.deleteHandler(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"danger",size:"small",disabled:0==this.multipleSelection.length},on:{click:e.deleteMany}},[e._v("批量删除")]),a("el-dialog",{attrs:{title:"编辑职称",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("table",[a("tr",[a("td",[a("el-tag",[e._v("职称名称")])],1),a("td",[a("el-input",{staticStyle:{"margin-left":"8px"},attrs:{size:"small"},model:{value:e.updateJl.name,callback:function(t){e.$set(e.updateJl,"name",t)},expression:"updateJl.name"}})],1)]),a("tr",[a("td",[a("el-tag",[e._v("职称等级")])],1),a("td",[a("el-select",{staticStyle:{"margin-left":"8px"},attrs:{placeholder:"职称等级",size:"small"},model:{value:e.updateJl.titleLevel,callback:function(t){e.$set(e.updateJl,"titleLevel",t)},expression:"updateJl.titleLevel"}},e._l(e.titleLevels,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)]),a("tr",[a("td",[a("el-tag",[e._v("是否启用")])],1),a("td",[a("el-switch",{staticStyle:{"margin-left":"8px"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"已启用","inactive-text":"未启用"},model:{value:e.updateJl.enabled,callback:function(t){e.$set(e.updateJl,"enabled",t)},expression:"updateJl.enabled"}})],1)])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.doUpdate()}}},[e._v("确 定")])],1)])],1)},y=[],w=(a("159b"),{name:"JoblevelMana",mounted:function(){this.initJls()},data:function(){return{updateJl:{name:"",titleLevel:"",enabled:""},dialogVisible:!1,jls:[],titleLevels:["正高级","副高级","高级","中级","初级"],jl:{name:"",titleLevel:""},multipleSelection:[]}},methods:{deleteMany:function(){var e=this;this.$confirm("此操作将永久删除["+this.multipleSelection.length+"]条职称, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t="?";e.multipleSelection.forEach((function(e){t+="ids="+e.id+"&"})),e.deleteRequest("/system/basic/joblevel/"+t).then((function(t){t&&e.initJls()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleSelectionChange:function(e){this.multipleSelection=e},doUpdate:function(){var e=this;this.putRequest("/system/basic/joblevel/",this.updateJl).then((function(t){t&&(e.initJls(),e.dialogVisible=!1)}))},showEditDialog:function(e){e.createDate="",Object.assign(this.updateJl,e),this.dialogVisible=!0},deleteHandler:function(e){var t=this;this.$confirm("此操作将永久删除["+e.name+"]职称, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/system/basic/joblevel/"+e.id).then((function(e){e&&t.initJls()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},addJobLevel:function(){var e=this;this.jl.name&&this.jl.titleLevel?this.postRequest("/system/basic/joblevel/",this.jl).then((function(t){t&&e.initJls()})):this.$message("字段不能为空！")},initJls:function(){var e=this;this.getRequest("/system/basic/joblevel/").then((function(t){t&&(e.jls=t,e.jl.name="",e.jl.titleLevel="")}))}}}),x=w,_=Object(c["a"])(x,g,y,!1,null,"4d1ddc75",null),S=_.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"pmsTool"},[a("el-input",{attrs:{size:"small",placeholder:"请输入角色英文名"},model:{value:e.role.name,callback:function(t){e.$set(e.role,"name",t)},expression:"role.name"}},[a("template",{slot:"prepend"},[e._v("ROLE_")])],2),a("el-input",{attrs:{size:"small",placeholder:"请输入角色中文名"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doAddRole(t)}},model:{value:e.role.nameZh,callback:function(t){e.$set(e.role,"nameZh",t)},expression:"role.nameZh"}}),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:e.doAddRole}},[e._v("添加角色")])],1),a("div",{staticClass:"pmsMain"},[a("el-collapse",{attrs:{accordion:""},on:{change:e.change},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.roles,(function(t,i){return a("el-collapse-item",{key:i,attrs:{title:t.nameZh,name:t.id}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("可访问资源")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0",color:"#ff0000"},attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.doDeleteRole(t)}}})],1),a("div",[a("el-tree",{key:i,ref:"tree",refInFor:!0,attrs:{data:e.allMenus,props:e.defaultProps,"show-checkbox":"","default-checked-keys":e.selectMenus,"node-key":"id"}}),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelUpdate}},[e._v("取消修改")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.doUpdate(t.id,i)}}},[e._v("确认修改")])],1)],1)])],1)})),1)],1)])},I=[],D={name:"PermissMana",data:function(){return{activeName:"-1",selectMenus:[],role:{name:"",nameZh:""},roles:[],allMenus:[],defaultProps:{children:"children",label:"name"}}},mounted:function(){this.initRoles()},methods:{doDeleteRole:function(e){var t=this;this.$confirm("此操作将永久删除角色["+e.nameZh+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/system/basic/permiss/role/"+e.id).then((function(e){e&&t.initRoles()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},doAddRole:function(){var e=this;this.role.name&&this.role.nameZh?this.postRequest("/system/basic/permiss/role",this.role).then((function(t){t&&(e.initRoles(),e.role.name="",e.role.nameZh="")})):this.$message.error("所有字段不能为空！")},cancelUpdate:function(){this.activeName="-1"},doUpdate:function(e,t){var a=this,i=this.$refs.tree[t],l=i.getCheckedKeys(!0),n="/system/basic/permiss/?rid="+e;l.forEach((function(e){n+="&mids="+e})),this.putRequest(n).then((function(e){e&&(a.activeName="-1")}))},change:function(e){e&&(this.initAllMenus(),this.initSelectMenus(e))},initSelectMenus:function(e){var t=this;this.getRequest("/system/basic/permiss/mid/"+e).then((function(e){e&&(t.selectMenus=e)}))},initAllMenus:function(){var e=this;this.getRequest("/system/basic/permiss/menus").then((function(t){t&&(e.allMenus=t)}))},initRoles:function(){var e=this;this.getRequest("/system/basic/permiss/").then((function(t){t&&(e.roles=t)}))}}},$=D,V=(a("7705"),Object(c["a"])($,k,I,!1,null,"4bb2aa41",null)),P=V.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-input",{staticClass:"addPosInput",attrs:{size:"small",placeholder:"添加职位...","suffix-icon":"el-icon-plus"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addPosition(t)}},model:{value:e.position.name,callback:function(t){e.$set(e.position,"name",t)},expression:"position.name"}}),a("el-button",{attrs:{icon:"el-icon-plus",size:"small",type:"primary",plain:""},on:{click:e.addPosition}},[e._v("添加")])],1),a("div",{staticClass:"posManaMain"},[a("el-table",{staticStyle:{width:"780px"},attrs:{size:"small",stripe:"",border:"",data:e.positions},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",label:"编号",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"职位",width:"120"}}),a("el-table-column",{attrs:{prop:"createDate",label:"创建时间",width:"200"}}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑 ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除 ")])]}}])}),a("el-table-column",{attrs:{prop:"createDate",label:"创建时间",width:"200"}})],1)],1),a("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"danger",size:"small",disabled:0==this.multipleSelection.length},on:{click:e.deleteMany}},[e._v("批量删除")]),a("el-dialog",{attrs:{title:"编辑职位",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",[a("el-tag",[e._v("职位名称")]),a("el-input",{staticClass:"updatePosInput",attrs:{size:"small"},model:{value:e.updatePos.name,callback:function(t){e.$set(e.updatePos,"name",t)},expression:"updatePos.name"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.doUpdate}},[e._v("确 定")])],1)])],1)},j=[],z={name:"PosMana",data:function(){return{multipleSelection:[],updatePos:{name:""},dialogVisible:!1,position:{name:""},positions:[]}},mounted:function(){this.initPositions()},methods:{deleteMany:function(){var e=this;this.$confirm("此操作将永久删除["+this.multipleSelection.length+"]条职位, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t="?";e.multipleSelection.forEach((function(e){t+="ids="+e.id+"&"})),e.deleteRequest("/system/basic/position/"+t).then((function(t){t&&e.initPositions()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleSelectionChange:function(e){this.multipleSelection=e},doUpdate:function(){var e=this;this.putRequest("/system/basic/position/",this.updatePos).then((function(t){t&&(e.initPositions(),e.dialogVisible=!1)}))},addPosition:function(){var e=this;this.position.name?this.postRequest("/system/basic/position/",this.position).then((function(t){t&&(e.initPositions(),e.position.name="")})):this.$message.error("职位名称不能为空！")},initPositions:function(){var e=this;this.getRequest("/system/basic/position/").then((function(t){t&&(e.positions=t)}))},handleEdit:function(e,t){t.createDate="",Object.assign(this.updatePos,t),this.dialogVisible=!0},handleDelete:function(e,t){var a=this;console.log(e,t),this.$confirm("此操作将永久删除["+t.name+"]职位, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.deleteRequest("/system/basic/position/"+t.id).then((function(e){e&&a.initPositions()}))})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))}}},C=z,R=(a("710b"),Object(c["a"])(C,E,j,!1,null,"0e923141",null)),q=R.exports,M={name:"SysBasic",data:function(){return{activeName:"DepMana"}},components:{DepMana:u,EcMana:v,JoblevelMana:S,PermissMana:P,PosMana:q}},T=M,B=Object(c["a"])(T,i,l,!1,null,"196ff1d2",null);t["default"]=B.exports},"99af":function(e,t,a){"use strict";var i=a("23e7"),l=a("d039"),n=a("e8b5"),s=a("861d"),o=a("7b0b"),r=a("50c4"),c=a("8418"),d=a("65f0"),u=a("1dde"),p=a("b622"),m=a("2d00"),h=p("isConcatSpreadable"),f=9007199254740991,b="Maximum allowed index exceeded",v=m>=51||!l((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),g=u("concat"),y=function(e){if(!s(e))return!1;var t=e[h];return void 0!==t?!!t:n(e)},w=!v||!g;i({target:"Array",proto:!0,forced:w},{concat:function(e){var t,a,i,l,n,s=o(this),u=d(s,0),p=0;for(t=-1,i=arguments.length;t<i;t++)if(n=-1===t?s:arguments[t],y(n)){if(l=r(n.length),p+l>f)throw TypeError(b);for(a=0;a<l;a++,p++)a in n&&c(u,p,n[a])}else{if(p>=f)throw TypeError(b);c(u,p++,n)}return u.length=p,u}})},a434:function(e,t,a){"use strict";var i=a("23e7"),l=a("23cb"),n=a("a691"),s=a("50c4"),o=a("7b0b"),r=a("65f0"),c=a("8418"),d=a("1dde"),u=d("splice"),p=Math.max,m=Math.min,h=9007199254740991,f="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var a,i,d,u,b,v,g=o(this),y=s(g.length),w=l(e,y),x=arguments.length;if(0===x?a=i=0:1===x?(a=0,i=y-w):(a=x-2,i=m(p(n(t),0),y-w)),y+a-i>h)throw TypeError(f);for(d=r(g,i),u=0;u<i;u++)b=w+u,b in g&&c(d,u,g[b]);if(d.length=i,a<i){for(u=w;u<y-i;u++)b=u+i,v=u+a,b in g?g[v]=g[b]:delete g[v];for(u=y;u>y-i+a;u--)delete g[u-1]}else if(a>i)for(u=y-i;u>w;u--)b=u+i-1,v=u+a-1,b in g?g[v]=g[b]:delete g[v];for(u=0;u<a;u++)g[u+w]=arguments[u+2];return g.length=y-i+a,d}})},a49a:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 人事记录统计 ")])},l=[],n={name:"StaRecord"},s=n,o=a("2877"),r=Object(o["a"])(s,i,l,!1,null,"c86a5042",null);t["default"]=r.exports},ad48:function(e,t,a){},b419:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 人事信息统计 ")])},l=[],n={name:"StaPers"},s=n,o=a("2877"),r=Object(o["a"])(s,i,l,!1,null,"8e8ee3f0",null);t["default"]=r.exports},bb51:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticClass:"homeHeader"},[a("div",{staticClass:"title"},[e._v("云e办")]),a("el-dropdown",{staticClass:"userInfo",on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.user.name)),a("i",[a("img",{attrs:{src:e.user.userFace}})])]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"userinfo"}},[e._v("个人中心")]),a("el-dropdown-item",{attrs:{command:"settings"}},[e._v("设置")]),a("el-dropdown-item",{attrs:{command:"logout"}},[e._v("注销登录")])],1)],1)],1),a("el-container",[a("el-aside",{attrs:{width:"200px"}},[a("el-menu",{attrs:{router:"","unique-opened":""}},e._l(e.routes,(function(t,i){return t.hidden?e._e():a("el-submenu",{key:i,attrs:{index:i+""}},[a("template",{slot:"title"},[a("i",{class:t.iconCls,staticStyle:{color:"#1accff","margin-right":"5px"}}),a("span",[e._v(e._s(t.name))])]),a("el-menu-item-group",e._l(t.children,(function(t,i){return a("el-menu-item",{attrs:{index:t.path}},[a("span",[e._v(e._s(t.name))])])})),1)],2)})),1)],1),a("el-main",["/home"!=this.$router.currentRoute.path?a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),a("el-breadcrumb-item",[a("a",{attrs:{href:"/"}},[e._v(e._s(this.$router.currentRoute.name))])])],1):e._e(),"/home"==this.$router.currentRoute.path?a("div",{staticClass:"homeWelcome"},[e._v(" 欢迎来到云E办系统 ")]):e._e(),a("router-view",{staticClass:"homeRouterview"})],1)],1)],1)],1)},l=[],n=(a("ac1f"),a("5319"),{name:"Home",data:function(){return{user:JSON.parse(window.sessionStorage.getItem("user"))}},computed:{routes:function(){return this.$store.state.routes}},methods:{handleCommand:function(e){var t=this;console.log(e),"logout"==e&&this.$confirm("此操作将注销登录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.postRequest("/logout"),window.sessionStorage.removeItem("tokenStr"),window.sessionStorage.removeItem("user"),t.$router.replace("/")})).catch((function(){t.$message({type:"info",message:"已取消注销"})}))}}}),s=n,o=(a("bd5b"),a("2877")),r=Object(o["a"])(s,i,l,!1,null,"3cdb11af",null);t["default"]=r.exports},bd5b:function(e,t,a){"use strict";a("7760")},c1d3:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 员工积分统计 ")])},l=[],n={name:"StaScore"},s=n,o=a("2877"),r=Object(o["a"])(s,i,l,!1,null,"08a1fc89",null);t["default"]=r.exports},cfbb:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 员工调动 ")])},l=[],n={name:"PerMv"},s=n,o=a("2877"),r=Object(o["a"])(s,i,l,!1,null,"3c90dbf6",null);t["default"]=r.exports},d158:function(e,t,a){},d1e3:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 备份恢复数据库 ")])},l=[],n={name:"SysData"},s=n,o=a("2877"),r=Object(o["a"])(s,i,l,!1,null,"c7113f40",null);t["default"]=r.exports},d9ac:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 员工奖惩 ")])},l=[],n={name:"PerEc"},s=n,o=a("2877"),r=Object(o["a"])(s,i,l,!1,null,"29c3d138",null);t["default"]=r.exports},f86b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{display:"flex","justify-content":"center","margin-top":"8px"}},[a("el-input",{staticStyle:{width:"400px","margin-right":"8px"},attrs:{placeholder:"通过用户名搜索用户...","prefix-icon":"el-icon-search"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.doSearch}},[e._v("搜索")])],1),a("div",{staticClass:"admin-content"},e._l(e.admins,(function(t,i){return a("el-card",{key:i,staticClass:"admin-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(t.name))]),a("el-button",{staticStyle:{float:"right",padding:"3px 0",color:"red"},attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.deleteAdmin(t)}}})],1),a("div",[a("div",{staticClass:"img-content"},[a("img",{staticClass:"userface-img",attrs:{src:t.userFace,title:t.name}})])]),a("div",{staticClass:"userinfo-content"},[a("div",[e._v(" 用户名："+e._s(t.name))]),a("div",[e._v(" 手机号码："+e._s(t.phone))]),a("div",[e._v(" 电话号码："+e._s(t.telephone))]),a("div",[e._v(" 地址："+e._s(t.address))]),a("div",{staticStyle:{display:"flex","font-size":"12px"}},[e._v(" 用户状态： "),a("el-switch",{staticStyle:{display:"block"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"已启用","inactive-text":"未启用"},on:{change:function(a){return e.enabledChange(t)}},model:{value:t.enabled,callback:function(a){e.$set(t,"enabled",a)},expression:"admin.enabled"}})],1),a("div",[e._v(" 用户角色： "),e._l(t.roles,(function(t,i){return a("el-tag",{key:i,staticStyle:{"margin-right":"4px"},attrs:{type:"success"}},[e._v(" "+e._s(t.nameZh)+" ")])})),a("el-popover",{attrs:{placement:"right",title:"角色列表",width:"200",trigger:"click"},on:{show:function(a){return e.showPop(t)},hide:function(a){return e.hidePop(t)}}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.selectRoles,callback:function(t){e.selectRoles=t},expression:"selectRoles"}},e._l(e.allRoles,(function(e,t){return a("el-option",{key:t,attrs:{label:e.nameZh,value:e.id}})})),1),a("el-button",{attrs:{slot:"reference",type:"text",icon:"el-icon-more"},slot:"reference"})],1)],2),a("div",[e._v(" 备注："+e._s(t.remark)+" ")])])])})),1)])},l=[],n=(a("159b"),a("b0c0"),{name:"SysAdmin",data:function(){return{admins:[],keyword:"",allRoles:[],selectRoles:[]}},mounted:function(){this.initAdmins()},methods:{hidePop:function(e){var t=this,a=e.roles,i=!0;if(a.length!=this.selectRoles.length)i=!1;else for(var l=0;l<a.length;l++)if(a[l].id!=this.selectRoles[l]){i=!1;break}if(!i){var n="/system/admin/roles/?adminId="+e.id;this.selectRoles.forEach((function(e){n+="&rids="+e})),this.putRequest(n).then((function(e){e&&t.initAdmins()}))}},showPop:function(e){var t=this;this.initAllRoles();var a=e.roles;this.selectRoles=[],a.forEach((function(e){t.selectRoles.push(e.id)}))},initAllRoles:function(){var e=this;this.getRequest("/system/admin/roles").then((function(t){t&&(e.allRoles=t)}))},enabledChange:function(e){var t=this;e.authorities=null,this.putRequest("/system/admin/",e).then((function(e){e&&t.initAdmins()}))},deleteAdmin:function(e){var t=this;this.$confirm("此操作将永久删除["+e.name+"]操作员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/system/admin/"+e.id).then((function(e){e&&t.initAdmins()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},doSearch:function(){this.initAdmins()},initAdmins:function(){var e=this;this.getRequest("/system/admin/?keyword="+this.keyword).then((function(t){t&&(e.admins=t)}))}}}),s=n,o=(a("7055"),a("2877")),r=Object(o["a"])(s,i,l,!1,null,"8f608788",null);t["default"]=r.exports},fbac:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 月末处理 ")])},l=[],n={name:"SalMonth"},s=n,o=a("2877"),r=Object(o["a"])(s,i,l,!1,null,"40301470",null);t["default"]=r.exports},feca:function(e,t,a){var i={"./Home.vue":"bb51","./Login.vue":"a55b","./emp/EmpAdv.vue":"8759","./emp/EmpBasic.vue":"58da","./per/PerEc.vue":"d9ac","./per/PerEmp.vue":"5865","./per/PerMv.vue":"cfbb","./per/PerSalary.vue":"5a4a","./per/PerTrain.vue":"83ed","./sal/SalMonth.vue":"fbac","./sal/SalSearch.vue":"1937","./sal/SalSob.vue":"2bc5","./sal/SalSobCfg.vue":"6ac98","./sal/SalTable.vue":"21c7","./sta/StaAll.vue":"0aaf","./sta/StaPers.vue":"b419","./sta/StaRecord.vue":"a49a","./sta/StaScore.vue":"c1d3","./sys/SysAdmin.vue":"f86b","./sys/SysBasic.vue":"8d67","./sys/SysCfg.vue":"1fe7","./sys/SysData.vue":"d1e3","./sys/SysInit.vue":"8608","./sys/SysLog.vue":"864e"};function l(e){var t=n(e);return a(t)}function n(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}l.keys=function(){return Object.keys(i)},l.resolve=n,e.exports=l,l.id="feca"}}]);
//# sourceMappingURL=chunk-1d5c8694.7e179c64.js.map